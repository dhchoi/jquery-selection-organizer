!function(t){t("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(t){"use strict";var n="data-selection-organizer-selected",e=".selection-organizer",i={selector:".selection-organizer-child",classSelected:"selection-organizer-selected",showAnimation:!0,animationProperties:{opacity:"toggle"},animationDuration:300,sendToEnd:!1,callback:function(){}};t.fn.selectionOrganizer=function(r){var a=this.settings=t.extend({},i,r);return this.each(function(r,o){function s(e){p();var i=t(this),r=!1;i.attr(n,"true"==i.attr(n)?!1:!0);var o=m.find("["+n+"=true]"),s=o.length,f=u(o,s);if("true"==i.attr(n))if(s-=1,f=u(o,s),s>0)a.sendToEnd?i.next().is(f)||(c(i,"insertBefore",f,h),r=!0):i.prev().is(f)||(c(i,"insertAfter",f,h),r=!0);else{var g=d();if(a.sendToEnd){var P=g[g.length-1];i.is(P)||(c(i,"appendTo",m,h),r=!0)}else{var v=g[0];i.is(v)||(c(i,"prependTo",m,h),r=!0)}}else s>0&&(a.sendToEnd?i.next().is(f)||(c(i,"insertBefore",f,h),r=!0):i.prev().is(f)||(c(i,"insertAfter",f,h),r=!0));(!l()||l()&&!r)&&(i.toggleClass(a.classSelected),h(),a.callback())}function c(t,n,e,i){if(l()){var r=f();t.animate(r.start,a.animationDuration,function(){t.toggleClass(a.classSelected).detach()[n](e).animate(r.finish,a.animationDuration,function(){i(),a.callback()})})}else t.detach()[n](e);return t}function l(){return!a.showAnimation||t.isEmptyObject(a.animationProperties)?!1:!0}function f(){return a.animationProperties.start&&a.animationProperties.finish?{start:a.animationProperties.start,finish:a.animationProperties.finish}:a.animationProperties.start||a.animationProperties.finish?{start:a.animationProperties.start||i.animationProperties,finish:a.animationProperties.finish||i.animationProperties}:{start:a.animationProperties,finish:a.animationProperties}}function u(t,n){return a.sendToEnd?t[t.length-n]||null:t[n-1]||null}function d(){return m.children(a.selector)}function p(){g.each(function(n,i){t(i).off("click"+e)})}function h(){g.each(function(n,i){t(i).on("click"+e,s)})}var m=t(o),g=d();g.each(function(i,r){t(r).attr(n,!1),t(r).on("click"+e,s)})})}});