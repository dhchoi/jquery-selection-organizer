!function(e){e("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(e){"use strict";var n={opacity:"toggle"};e.fn.selectionOrganizer=function(t){function i(e,n,t,i){if(a()){var s=r();e.animate(s.start,c.animationSpeed,function(){e.toggleClass(c.selectedChildClass).detach()[n](t).animate(s.finish,c.animationSpeed,function(){i(),c.callback()})})}else e.detach()[n](t);return e}function a(){return!c.showAnimation||e.isEmptyObject(c.animation)?!1:!0}function r(){return c.animation.start&&c.animation.finish?{start:c.animation.start,finish:c.animation.finish}:c.animation.start||c.animation.finish?{start:c.animation.start||n,finish:c.animation.finish||n}:{start:c.animation,finish:c.animation}}var s="data-selection-organizer-selected",o=".selection-organizer",c=e.extend(e.fn.selectionOrganizer.settings,t);return this.each(function(n,t){function r(n){u();var t=e(this),r=!1;t.attr(s,"true"==t.attr(s)?!1:!0);var o=d.find("["+s+"=true]"),m=o.length,g=l(o,m);if("true"==t.attr(s))if(m-=1,g=l(o,m),m>0)c.reverse?t.next().is(g)||(i(t,"insertBefore",g,h),r=!0):t.prev().is(g)||(i(t,"insertAfter",g,h),r=!0);else{var v=f();if(c.reverse){var p=v[v.length-1];t.is(p)||(i(t,"appendTo",d,h),r=!0)}else{var C=v[0];t.is(C)||(i(t,"prependTo",d,h),r=!0)}}else m>0&&(c.reverse?t.next().is(g)||(i(t,"insertBefore",g,h),r=!0):t.prev().is(g)||(i(t,"insertAfter",g,h),r=!0));(!a()||a()&&!r)&&(t.toggleClass(c.selectedChildClass),h(),c.callback())}function l(e,n){return c.reverse?e[e.length-n]||null:e[n-1]||null}function f(){return d.children(c.childSelector)}function u(){m.each(function(n,t){e(t).off("click"+o)})}function h(){m.each(function(n,t){e(t).on("click"+o,r)})}var d=e(t),m=f();m.each(function(n,t){e(t).attr(s,!1),e(t).on("click"+o,r)})})},e.fn.selectionOrganizer.settings={childSelector:"li",selectedChildClass:"selection-organizer-selected",showAnimation:!0,animation:n,animationSpeed:300,reverse:!1,callback:function(){}}});