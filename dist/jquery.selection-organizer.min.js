!function(t){t("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(t){"use strict";var e="data-selection-organizer-selected",n=".selection-organizer",i={selector:".selection-organizer-child",classSelected:"selection-organizer-selected",showAnimation:!0,animationProperties:{opacity:"toggle"},animationDuration:300,sendToEnd:!1,callback:function(t){}};t.fn.selectionOrganizer=function(r){var a=this.settings=t.extend({},i,r);return this.each(function(r,o){function s(n){p();var i=t(this),r=!1;i.attr(e,"true"==i.attr(e)?!1:!0);var o=h.find("["+e+"=true]"),s=o.length,f=u(o,s);if("true"==i.attr(e))if(s-=1,f=u(o,s),s>0)a.sendToEnd?i.next().is(f)||(c(i,"insertBefore",f,m),r=!0):i.prev().is(f)||(c(i,"insertAfter",f,m),r=!0);else{var g=d();if(a.sendToEnd){var P=g[g.length-1];i.is(P)||(c(i,"appendTo",h,m),r=!0)}else{var v=g[0];i.is(v)||(c(i,"prependTo",h,m),r=!0)}}else s>0&&(a.sendToEnd?i.next().is(f)||(c(i,"insertBefore",f,m),r=!0):i.prev().is(f)||(c(i,"insertAfter",f,m),r=!0));(!l()||l()&&!r)&&(i.toggleClass(a.classSelected),m(),a.callback(i))}function c(t,e,n,i){if(l()){var r=f();t.animate(r.start,a.animationDuration,function(){t.toggleClass(a.classSelected).detach()[e](n).animate(r.finish,a.animationDuration,function(){i(),a.callback(t)})})}else t.detach()[e](n);return t}function l(){return!a.showAnimation||t.isEmptyObject(a.animationProperties)?!1:!0}function f(){return a.animationProperties.start&&a.animationProperties.finish?{start:a.animationProperties.start,finish:a.animationProperties.finish}:a.animationProperties.start||a.animationProperties.finish?{start:a.animationProperties.start||i.animationProperties,finish:a.animationProperties.finish||i.animationProperties}:{start:a.animationProperties,finish:a.animationProperties}}function u(t,e){return a.sendToEnd?t[t.length-e]||null:t[e-1]||null}function d(){return h.children(a.selector)}function p(){h.off("click"+n)}function m(){h.on("click"+n,a.selector,s)}var h=t(o),g=d();m(),g.each(function(n,i){t(i).attr(e,!1)})})}});